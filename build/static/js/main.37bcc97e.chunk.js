(this["webpackJsonpmy-instalando-react"]=this["webpackJsonpmy-instalando-react"]||[]).push([[0],{39:function(e,t,c){},55:function(e,t,c){},62:function(e,t,c){},79:function(e,t,c){"use strict";c.r(t);var a=c(3),n=c.n(a),i=c(46),r=c.n(i),s=(c(55),c(56),c(17)),o=c.p+"static/media/carrito-de-compras.fe3c130d.png",l=c(50),d=c(14),j=c(2),b=Object(a.createContext)(),m=JSON.parse(localStorage.getItem("carrito"))||[],u=function(e){var t=e.children,c=Object(a.useState)(m),n=Object(d.a)(c,2),i=n[0],r=n[1];console.log(i);return Object(a.useEffect)((function(){localStorage.setItem("carrito",JSON.stringify(i))}),[i]),Object(j.jsx)(b.Provider,{value:{carrito:i,addToCart:function(e){r([].concat(Object(l.a)(i),[e]))},removeItem:function(e){var t=i.filter((function(t){return t.id!==e}));r(t)},calcularCantidad:function(){return i.reduce((function(e,t){return e+t.cantidad}),0)},vaciarCarrito:function(){r([])},isInCart:function(e){return i.some((function(t){return t.id===e}))},calcularTotal:function(){return i.reduce((function(e,t){return e+500*t.cantidad}),0)}},children:t})},h=(c(39),function(){var e=Object(a.useContext)(b).calcularCantidad;return Object(j.jsxs)("div",{style:{visibility:0===e()?"hidden":"visible"},children:[Object(j.jsx)("img",{src:o,className:"imgCarrito",alt:"img carrito de compras",height:"45",width:"45"}),Object(j.jsx)("span",{className:"text-decoration-none mx-1 text-white",children:e()})]})}),x=function(){return Object(j.jsx)("nav",{className:"bg-black",children:Object(j.jsxs)("div",{className:"navLista",children:[Object(j.jsx)("h1",{children:" Mi App "}),Object(j.jsx)(s.b,{to:"/Home",className:"navListaItem",children:"Home"}),Object(j.jsx)(s.b,{to:"/Adopciones",className:"navListaItem",children:"Adopciones"}),Object(j.jsx)(s.b,{to:"/Adopciones/Macho",className:"navListaItem",children:"Machos"}),Object(j.jsx)(s.b,{to:"/Adopciones/Hembra",className:"navListaItem",children:"Hembras"}),Object(j.jsx)(s.b,{to:"/Contacto",className:"navListaItem",children:"Contacto"}),Object(j.jsx)(s.b,{to:"/cart",children:Object(j.jsx)(h,{})})]})})},O=c.p+"static/media/adopcion perro.44a6e5d8.jpg",p=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("section",{className:"mb-5",id:"inicio",children:Object(j.jsx)("div",{className:"container mt-5",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-6 col-sm-6",children:Object(j.jsx)("div",{className:"content-left",children:Object(j.jsx)("img",{src:O,style:{width:"100%"},alt:"img adopcion"})})}),Object(j.jsx)("div",{className:"col-md-6 col-sm-6",children:Object(j.jsxs)("div",{className:"container mt-5",children:[Object(j.jsx)("h2",{className:"display-4",children:"Adopta,su amor sera incondicional por siempre"}),Object(j.jsx)("p",{className:"ml-5 text-center",children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Magni, maxime."})]})})]})})}),Object(j.jsx)("section",{className:" mt-5",id:"testimonial",children:Object(j.jsxs)("div",{className:"container mt-5",children:[Object(j.jsx)("p",{className:"h5",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Aliquid facilis sapiente est maiores corrupti, accusamus dicta animi in illo temporibus libero, modi placeat earum esse quo? Minima molestias, nisi sapiente veritatis commodi aspernatur, asperiores consectetur maxime esse soluta facere at, quia vero minus. Hic facere cumque distinctio quisquam quidem ipsam!"}),Object(j.jsx)("p",{className:"h5",children:"manuel navarro"})]})})]})},f=c(22),g=c(5),v=c(80),N=c(81),y=function(){var e=Object(a.useState)({nombre:"",apellido:"",email:""}),t=Object(d.a)(e,2),c=t[0],n=t[1],i=function(e){n(Object(g.a)(Object(g.a)({},c),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)(v.a,{onSubmit:function(e){e.preventDefault(),console.log(c)},className:"container mt-3",children:[Object(j.jsxs)(v.a.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[Object(j.jsx)(v.a.Label,{children:"Nombre"}),Object(j.jsx)(v.a.Control,{type:"text",placeholder:"Nombre",name:"nombre",value:c.nombre,onChange:i})]}),Object(j.jsxs)(v.a.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[Object(j.jsx)(v.a.Label,{children:"Apellido"}),Object(j.jsx)(v.a.Control,{type:"text",placeholder:"Apellido",name:"apellido",value:c.apellido,onChange:i})]}),Object(j.jsxs)(v.a.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[Object(j.jsx)(v.a.Label,{children:"Email de contacto"}),Object(j.jsx)(v.a.Control,{type:"email",placeholder:"name@example.com",name:"email",value:c.email,onChange:i})]}),Object(j.jsxs)(v.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(j.jsx)(v.a.Label,{children:"Deje su mensaje"}),Object(j.jsx)(v.a.Control,{as:"textarea",rows:3})]}),Object(j.jsx)(N.a,{type:"submit",variant:"outline-secondary",children:"Enviar"})]})},C=c(11),I=(c(62),function(e){var t=e.id,c=e.nombre,a=e.descripcion,n=e.edad,i=e.category,r=e.img;return Object(j.jsx)("div",{className:"card m-3",style:{width:"15rem",height:"25rem"},children:Object(j.jsxs)("div",{className:"card-body bg-light text-dark ",children:[Object(j.jsx)("img",{src:r,width:"90rem",height:"100rem",alt:"".concat(c," ").concat(a),className:"card-img-top"}),Object(j.jsx)("p",{className:"card-title",children:c}),Object(j.jsxs)("p",{className:"card-subtitle mb-2 text-muted",children:[" ",a]}),Object(j.jsxs)("p",{className:"card-title",children:[" Edad: ",n," a\xf1os"]}),Object(j.jsxs)("p",{className:"card-title",children:[" Categoria: ",i]}),Object(j.jsx)(s.b,{to:"/detail/".concat(t),children:Object(j.jsx)(N.a,{variant:"primary",children:"Adoptar"})})]})})}),w=function(e){var t=e.products,c=void 0===t?[]:t;return Object(j.jsx)("div",{className:"d-flex jutify-content-start flex-wrap",children:c.map((function(e){return Object(a.createElement)(I,Object(g.a)(Object(g.a)({},e),{},{key:e.id}))}))})},A=c(34),k=(c(31),A.a.initializeApp({apiKey:"AIzaSyApVp7Oeq_bDLNBEc8wf1lVBjrdMtU55P8",authDomain:"mi-proyecto-de-react.firebaseapp.com",projectId:"mi-proyecto-de-react",storageBucket:"mi-proyecto-de-react.appspot.com",messagingSenderId:"347024685275",appId:"1:347024685275:web:6ab35abf7cf1f87ed2f4fe"})),L=function(){return A.a.firestore(k)},S=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)(!1),r=Object(d.a)(i,2),s=r[0],o=r[1],l=Object(C.h)().categoryId;return Object(a.useEffect)((function(){o(!0);var e=L();(l?e.collection("Productos").where("category","==",l):e.collection("Productos")).get().then((function(e){var t=e.docs.map((function(e){return Object(g.a)({id:e.id},e.data())}));n(t),console.log(t)})).catch((function(e){return console.log(e)})).finally((function(){o(!1)}))}),[l,o]),Object(j.jsx)("section",{className:"item-card-section",children:s?Object(j.jsx)("h2",{children:"Loading..."}):Object(j.jsx)(w,{products:c})})},F=function(e){var t=e.cantidad,c=e.modify,a=e.max;return Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){t>0&&c(t-1)},className:"btn btn-secondary btn-sm my-3",children:" -"}),Object(j.jsx)("span",{className:"mx-3",children:t}),Object(j.jsx)("button",{onClick:function(){t<a&&c(t+1)},className:"btn btn-secondary btn-sm my-3",children:" +"})]})},E=function(e){var t=e.id,c=e.nombre,n=e.descripcion,i=e.edad,r=e.category,o=e.img,l=e.cant,m=Object(C.g)(),u=m.goBack,h=m.push,x=Object(a.useContext)(b),O=x.addToCart,p=x.isInCart,f=Object(a.useState)(0),g=Object(d.a)(f,2),v=g[0],N=g[1];return Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"card m-3 ",style:{width:"18rem"},children:Object(j.jsxs)("div",{className:"card-body bg-light text-dark ",children:[Object(j.jsx)("h2",{children:c}),Object(j.jsx)("img",{src:o,width:"40px",height:"200px",alt:"".concat(c," ").concat(n),className:"card-img-top"}),Object(j.jsx)("p",{children:n}),Object(j.jsx)("p",{children:r}),Object(j.jsxs)("h4",{children:["Edad: ",i," a\xf1os"]}),p(t)?Object(j.jsx)(s.b,{to:"/cart",className:"btn btn-success",children:"Terminar la Adopci\xf3n"}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(F,{cantidad:v,modify:N,max:l}),Object(j.jsx)("button",{className:"btn btn-success my-2",onClick:function(){v>0&&O({id:t,nombre:c,edad:i,category:r,cantidad:v})},children:"Agregar"})]}),Object(j.jsx)("hr",{}),Object(j.jsx)("button",{className:"btn btn-primary btn-sm mx-3",onClick:function(){return u()},children:"Volver"}),Object(j.jsx)("button",{className:"btn btn-outline-seconsary btn-sm my-3",onClick:function(){return h("/")},children:"Volver al inicio"})]})})})},T=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)(!1),r=Object(d.a)(i,2),s=r[0],o=r[1],l=Object(C.h)().itemId;return Object(a.useEffect)((function(){o(!0),L().collection("Productos").doc(l).get().then((function(e){n(Object(g.a)({id:e.id},e.data()))})).catch((function(e){return console.log(e)})).finally((function(){o(!1)}))}),[l,o]),Object(j.jsx)("div",{children:s?Object(j.jsx)("h2",{children:"Cargando..."}):Object(j.jsx)(E,Object(g.a)({},c))})},D=function(){var e=Object(a.useContext)(b),t=e.carrito,c=e.vaciarCarrito,n=e.removeItem,i=e.calcularTotal;return Object(j.jsx)("div",{className:"container my-5",children:Object(j.jsx)("div",{className:"card m-3 ",style:{width:"20rem"},children:Object(j.jsx)("div",{className:"card-body bg-light text-dark ",children:0===t.length?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"No hay perros agregados"}),Object(j.jsx)(s.b,{to:"/Adopciones",className:"btn btn-warning btn-sm btn-block ",children:"Ir a comprar"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"Resumen de su Colaboraci\xf3n"}),Object(j.jsx)("hr",{}),t.map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h4",{children:e.nombre}),Object(j.jsxs)("p",{children:["Cantidad: ",e.cantidad]}),Object(j.jsxs)("p",{children:["Donacion:$ ",500*e.cantidad]}),Object(j.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){return n(e.id)},children:"Borrar Item"})]})})),Object(j.jsx)("hr",{}),Object(j.jsxs)("h3",{className:"my-3",children:["Donaci\xf3n total: $",i()]}),Object(j.jsx)("p",{children:"Tu donaci\xf3n ayuda a seguir rescantando mas perritos"}),Object(j.jsx)("button",{className:"btn btn-danger btn-sm mx-3",onClick:c,children:"Vaciar carrito"}),Object(j.jsx)(s.b,{to:"/Checkout",className:"btn btn-success btn-sm",children:"Terminar mi adopci\xf3n"})]})})})})},P=c(25),q=c.n(P),G=c(36),B=c.n(G),M=c(49),H=c(37),V=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),c=t[0],n=t[1],i=Object(a.useContext)(b),r=i.carrito,s=i.calcularTotal,o=i.vaciarCarrito,l=Object(a.useState)({nombre:"",apellido:"",email:""}),m=Object(d.a)(l,2),u=m[0],h=m[1],x=function(e){h(Object(g.a)(Object(g.a)({},u),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)(j.Fragment,{children:[0===r.length&&Object(j.jsx)(C.a,{to:"/"}),c&&Object(j.jsx)("h2",{children:"Loading..."}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Ingrese sus datos "}),Object(j.jsx)("hr",{})]}),Object(j.jsxs)(v.a,{onSubmit:function(e){e.preventDefault(),u.nombre.length<3?q.a.fire({icon:"error",title:"Nombre invalido"}):u.apellido.length<3?q.a.fire({icon:"error",title:"Apellido invalido"}):u.email.length<3?q.a.fire({icon:"error",title:"Email invalido"}):(n(!0),function(e,t,c){return new Promise(function(){var a=Object(M.a)(B.a.mark((function a(n,i){var r,s,o,l,d,j,b;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={buyer:e,items:t.map((function(e){return{id:e.id,nombre:e.nombre,cantidad:e.cantidad}})),total:c,date:H.a.firestore.Timestamp.fromDate(new Date)},s=L(),o=s.collection("orders"),l=s.collection("Productos").where(H.a.firestore.FieldPath.documentId(),"in",t.map((function(e){return e.id}))),a.next=6,l.get();case 6:d=a.sent,j=s.batch(),b=[],d.docs.forEach((function(e){var c=t.find((function(t){return t.id===e.id}));e.data().cant>=c.cantidad?j.update(e.ref,{cant:e.data().cant-c.cantidad}):b.push(Object(g.a)(Object(g.a)({},e.data()),{},{id:e.id}))})),0===b.length?o.add(r).then((function(e){j.commit(),n(e.id)})):i(b);case 11:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}(u,r,s()).then((function(e){q.a.fire({icon:"success",title:"Su adopci\xf3n fue registrada",text:"Guarde su Nro de operaci\xf3n: ".concat(e),willClose:function(){o()}})})).catch((function(e){q.a.fire({icon:"error",title:"ya fue adoptado",text:" por favor busca otro perrito",willClose:function(){o()}})})).finally((function(){n(!1)})))},className:"container mt-3",children:[Object(j.jsxs)(v.a.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[Object(j.jsx)(v.a.Label,{children:"Nombre"}),Object(j.jsx)(v.a.Control,{type:"text",placeholder:"Nombre",name:"nombre",value:u.nombre,onChange:x})]}),Object(j.jsxs)(v.a.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[Object(j.jsx)(v.a.Label,{children:"Apellido"}),Object(j.jsx)(v.a.Control,{type:"text",placeholder:"Apellido",name:"apellido",value:u.apellido,onChange:x})]}),Object(j.jsxs)(v.a.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[Object(j.jsx)(v.a.Label,{children:"Email de contacto"}),Object(j.jsx)(v.a.Control,{type:"email",placeholder:"name@example.com",name:"email",value:u.email,onChange:x})]}),Object(j.jsx)(N.a,{type:"submit",disabled:c,variant:"outline-secondary",children:"Finalizar"})]})]})};var J=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(u,{children:Object(j.jsxs)(s.a,{children:[Object(j.jsx)(x,{}),Object(j.jsxs)(C.d,{children:[Object(j.jsx)(C.b,{exact:!0,path:"/",children:Object(j.jsx)(p,{})}),Object(j.jsx)(C.b,{exact:!0,path:"/Adopciones",children:Object(j.jsx)(S,{})}),Object(j.jsx)(C.b,{exact:!0,path:"/Adopciones/:categoryId",children:Object(j.jsx)(S,{})}),Object(j.jsx)(C.b,{exact:!0,path:"/Detail/:itemId",children:Object(j.jsx)(T,{})}),Object(j.jsx)(C.b,{exact:!0,path:"/contacto",children:Object(j.jsx)(y,{})}),Object(j.jsx)(C.b,{exact:!0,path:"/cart",children:Object(j.jsx)(D,{})}),Object(j.jsx)(C.b,{exact:!0,path:"/checkout",children:Object(j.jsx)(V,{})}),Object(j.jsx)(C.b,{path:"*",children:Object(j.jsx)(C.a,{to:"/"})})]})]})})})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,82)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),i(e),r(e)}))};r.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(J,{})}),document.getElementById("root")),z()}},[[79,1,2]]]);
//# sourceMappingURL=main.37bcc97e.chunk.js.map